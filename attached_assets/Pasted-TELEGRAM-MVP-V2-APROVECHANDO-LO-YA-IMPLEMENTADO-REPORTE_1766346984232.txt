TELEGRAM MVP V2 (APROVECHANDO LO YA IMPLEMENTADO) + REPORTE DIARIO NAS 14:00 + BLOQUEO PARES NO-USD (MITIGACI√ìN PUNTO 4)

CONTEXTO (YA EXISTE):
- telegram_chats con flags/roles: alertTrades, alertErrors, alertSystem, alertBalance, alertHeartbeat
- routing: sendAlertToMultipleChats() + shouldSendToChat()
- comandos: /estado /pausar /reanudar /ultimas /ayuda /balance /config /exposicion /uptime
- heartbeat cada 12h
- NAS polling activo en NAS y desactivado en Replit

OBJETIVO A (ALTO VALOR): REPORTE DIARIO 14:00 (NAS + BOT) AL CANAL SYSTEM
1) A√±adir scheduler diario a las 14:00 hora local (Europe/Madrid o TZ del sistema):
   - Preferible: node-cron con TZ
   - Alternativa: job interno que chequea hora y evita duplicado por fecha.
2) Evitar duplicados: guardar lastDailyReportDate (YYYY-MM-DD) en DB/config.
3) M√©tricas:
   - NAS: CPU%, load, memoria (used/total y %), disco (used/total y %), uptime
   - Bot: entorno, DRY_RUN, modo SMART_GUARD, estrategia/timeframe activo, pares activos,
          posiciones abiertas, exposici√≥n USD (si existe), dailyPnL (si existe), √∫ltima operaci√≥n (opcional)
4) Formato ‚Äúestilo capturas‚Äù (plain text, secciones, emojis, checks).
5) Enviar usando sendAlertToMultipleChats() a chats con alertSystem=true (y opcional toggle para tambi√©n enviarlo a trading).

OBJETIVO B (MVP): /menu con BOTONES (INLINE KEYBOARD) + handlers b√°sicos
1) Implementar comando /menu que env√≠a mensaje ‚ÄúMEN√ö PRINCIPAL‚Äù con botones:
   - üìä Estado (callback: MENU_STATUS) -> responde con el mismo bloque que /estado
   - üí∞ Balance (MENU_BALANCE) -> mismo que /balance
   - üìà Exposici√≥n (MENU_EXPOSURE) -> mismo que /exposicion
   - üîÑ Sync Kraken (MENU_SYNC) -> llama sync, responde con updated/inserted/skipped
   - ‚è∏Ô∏è Pausar / ‚ñ∂Ô∏è Reanudar (MENU_PAUSE / MENU_RESUME) -> igual que comandos
   - üì£ Canales (MENU_CHANNELS) -> pantalla de toggles roles del chat actual (ver objetivo C)
   - ‚è∞ Reporte diario (MENU_DAILY) -> ON/OFF + hora actual
   - ‚ùì Ayuda (MENU_HELP)
2) Implementar callback_query handler:
   - switch/case por callback_data
   - responder con sendMessage (MVP) y un bot√≥n ‚Äú‚¨ÖÔ∏è Men√∫‚Äù (callback MENU_HOME)
   - opcional: editMessageText para no spamear (no obligatorio en MVP)

OBJETIVO C (MVP): GESTI√ìN DE CANALES ‚ÄúVISUAL‚Äù PARA EL CHAT ACTUAL
1) Implementar /channels (y bot√≥n desde /menu) que muestre:
   ‚Äúüì£ GESTI√ìN DE CANALES (chat actual: <id>)‚Äù
   y los flags actuales:
   - Trades: ON/OFF
   - System: ON/OFF
   - Errors: ON/OFF
   - Balance: ON/OFF
   - Heartbeat: ON/OFF
2) Inline keyboard con toggles para el chat actual:
   - ‚úÖ/‚¨ú Trades (TOGGLE_TRADES)
   - ‚úÖ/‚¨ú System (TOGGLE_SYSTEM)
   - ‚úÖ/‚¨ú Errors (TOGGLE_ERRORS)
   - ‚úÖ/‚¨ú Balance (TOGGLE_BALANCE)
   - ‚úÖ/‚¨ú Heartbeat (TOGGLE_HEARTBEAT)
   - üìÉ Listar chats (LIST_CHATS) -> muestra todos los chats y flags (resumen breve)
   - ‚¨ÖÔ∏è Men√∫
3) Implementaci√≥n: update telegram_chats set alertX = !alertX where chatId = currentChatId.

OBJETIVO D (MITIGACI√ìN PUNTO 4): BLOQUEAR PARES NO-USD EN SERVER
1) En el motor/validador de trades (antes de cualquier orden real), bloquear si el quote no es USD (o allowlist):
   allowQuotes = ["USD"] (opcional: ["USD","USDT","EUR"] seg√∫n config)
2) Si detecta par cruzado (ej ETH/BTC):
   - no ejecutar trade
   - log reason ‚ÄúPAIR_NOT_ALLOWED_QUOTE‚Äù
   - opcional: alertErrors al canal errors/system (una sola vez por X tiempo para evitar spam)

ACEPTACI√ìN
- A) A las 14:00 se env√≠a 1 mensaje diario al canal SYSTEM con m√©tricas NAS + estado bot (formato capturas).
- B) /menu muestra botones y funcionan (callback_query ok).
- C) /channels permite activar/desactivar flags del chat actual y persiste.
- D) El bot no opera pares no USD aunque est√©n activados en UI por error.

ENTREGABLE
PR + replit.md con:
- lista de botones y comandos
- ejemplo de reporte diario
- explicaci√≥n del bloqueo de pares no USD
